(this["webpackJsonpvideo-list"]=this["webpackJsonpvideo-list"]||[]).push([[0],{101:function(e,t){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(2),c=n(32),i=n.n(c),s=n(10),o=n(19),l=n(28),u=n(63),d="GET_POPULAR_LIST_SUCCESS",h="GET_POPULAR_LIST_PAGE_TWO_SUCCESS",j="GET_LIST_FAILED",p="SEARCH_RESULTS_INIT",f="GET_SEARCH_RESULTS_SUCCESS",b="GET_SEARCH_RESULTS_FAILED",v=n(48),g=function(e,t){return Object(v.a)(Object(v.a)({},e),t)},x=function(e){var t=e.match(/(\d+)(?=[HMS])/gi);return 3===t.length?"".concat(t[0].padStart(2,"00"),":").concat(t[1].padStart(2,"00"),":").concat(t[2].padStart(2,"00")):2===t.length?"".concat(t[0].padStart(2,"00"),":").concat(t[1].padStart(2,"00")):"00:".concat(t[0].padStart(2,"00"))},O={totalResults:0,nextPageToken:null,listData:[],searchResults:[],resultExist:!0,error:null},m=function(e,t){var n=t.totalResults>=100?100:t.totalResults;return g(e,{totalResults:n,nextPageToken:t.nextPageToken,listData:t.listData,error:null})},S=function(e,t){var n=e.listData.concat(t.listData2);return g(e,{listData:n,error:null})},P=function(e,t){return g(e,{error:t.error.message})},k=function(e,t){return g(e,{resultExist:!0})},w=function(e,t){return g(e,{searchResults:t.result,resultExist:!0})},y=function(e,t){return g(e,{resultExist:!1})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return m(e,t);case h:return S(e,t);case j:return P(e,t);case p:return k(e);case f:return w(e,t);case b:return y(e);default:return e}},N=n(9),C=n(70),D=function(){return Object(r.jsx)("svg",{focusable:"false",width:"1em",height:"1em",viewBox:"0 0 36 36",children:Object(r.jsx)("path",{d:"M33 7.64c-1.34-2.75-5.2-5-9.69-3.69A9.87 9.87 0 0 0 18 7.72a9.87 9.87 0 0 0-5.31-3.77C8.19 2.66 4.34 4.89 3 7.64c-1.88 3.85-1.1 8.18 2.32 12.87C8 24.18 11.83 27.9 17.39 32.22a1 1 0 0 0 1.23 0c5.55-4.31 9.39-8 12.07-11.71c3.41-4.69 4.19-9.02 2.31-12.87z",className:"clr-i-solid clr-i-solid-path-1",fill:"currentColor"})})},I=function(){return Object(r.jsx)("svg",{focusable:"false",width:"1em",height:"1em",viewBox:"0 0 36 36",children:Object(r.jsx)("path",{d:"M18 32.43a1 1 0 0 1-.61-.21C11.83 27.9 8 24.18 5.32 20.51C1.9 15.82 1.12 11.49 3 7.64c1.34-2.75 5.19-5 9.69-3.69A9.87 9.87 0 0 1 18 7.72a9.87 9.87 0 0 1 5.31-3.77c4.49-1.29 8.35.94 9.69 3.69c1.88 3.85 1.1 8.18-2.32 12.87c-2.68 3.67-6.51 7.39-12.07 11.71a1 1 0 0 1-.61.21zM10.13 5.58A5.9 5.9 0 0 0 4.8 8.51c-1.55 3.18-.85 6.72 2.14 10.81A57.13 57.13 0 0 0 18 30.16a57.13 57.13 0 0 0 11.06-10.83c3-4.1 3.69-7.64 2.14-10.81c-1-2-4-3.59-7.34-2.65a8 8 0 0 0-4.94 4.2a1 1 0 0 1-1.85 0a7.93 7.93 0 0 0-4.94-4.2a7.31 7.31 0 0 0-2-.29z",className:"clr-i-outline clr-i-outline-path-1",fill:"currentColor"})})},R=function(){return Object(r.jsx)("svg",{focusable:"false",width:"1em",height:"1em",viewBox:"0 0 24 24",children:Object(r.jsx)("path",{d:"M11.67 3.87L9.9 2.1L0 12l9.9 9.9l1.77-1.77L3.54 12z",fill:"currentColor"})})},H=function(){return Object(r.jsx)("svg",{focusable:"false",width:"1em",height:"1em",viewBox:"0 0 24 24",children:Object(r.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(r.jsx)("path",{d:"M21 21l-4.35-4.35"})]})})},E=function(){return Object(r.jsx)("svg",{focusable:"false",width:"1em",height:"1em",viewBox:"0 0 24 24",children:Object(r.jsx)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z",fill:"currentColor"})})},T=function(){return Object(r.jsx)("svg",{focusable:"false",width:"1em",height:"1em",viewBox:"0 0 1024 1024",children:Object(r.jsx)("path",{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z",fill:"currentColor"})})},A=(n(40),function(e){var t=Object(a.useRef)(null);return Object(r.jsxs)("header",{className:"navbar",children:[Object(r.jsx)("div",{className:"menu",onClick:e.open,children:T()}),Object(r.jsx)("h2",{children:"VIDEO LIST"}),Object(r.jsxs)("nav",{className:"navItems",children:[Object(r.jsx)(s.b,{to:"/",children:"Home"}),Object(r.jsx)(s.b,{to:"/like",children:"My Favorite"}),Object(r.jsxs)("form",{className:"search",onSubmit:function(n){return function(n){var r=t.current.value;e.search(n,r)}(n)},children:[Object(r.jsx)("input",{className:"searchInput",ref:t,type:"search ",placeholder:"Search"}),Object(r.jsx)("button",{className:"btn",type:"submit",children:Object(r.jsx)("span",{className:"icon",children:H()})})]})]})]})}),M=function(e){var t=["sideDrawer"];e.show&&t.push("active");var n=Object(a.useRef)(null);return Object(r.jsxs)("nav",{className:t.join(" "),children:[Object(r.jsx)("div",{className:"menuClose",onClick:e.close,children:E()}),Object(r.jsx)("h2",{children:"VIDEO LIST"}),Object(r.jsxs)("nav",{className:"navItems",children:[Object(r.jsx)(s.b,{to:"/",children:"Home"}),Object(r.jsx)(s.b,{to:"/like",children:"My Favorite"}),Object(r.jsxs)("form",{className:"search",onSubmit:function(t){return function(t){var r=n.current.value;e.search(t,r)}(t)},children:[Object(r.jsx)("input",{className:"searchInput",ref:n,type:"search ",placeholder:"Search"}),Object(r.jsx)("button",{className:"btn",type:"submit",children:Object(r.jsx)("span",{className:"icon",children:H()})})]})]})]})},_=function(e){return e.show?Object(r.jsx)("div",{className:"backdrop",onClick:e.close}):null},V=n(16),B=n.n(V),G=n(22),J=n(35),z=n.n(J),F=function(e){return z.a.get("https://youtube.googleapis.com/youtube/v3/videos",{params:{part:"snippet,contentDetails",chart:"mostPopular",maxResults:50,key:e,regionCode:"us",videoCategoryId:10}})},U=function(e,t){return z.a.get("https://youtube.googleapis.com/youtube/v3/videos",{params:{part:"snippet,contentDetails",chart:"mostPopular",maxResults:50,key:e,regionCode:"us",videoCategoryId:10,pageToken:t}})},W=Object(o.b)((function(e){return{listData:e.listData}}),(function(e){return{onInitSearch:function(){return e((function(e){e({type:p})}))},onGetSearchResults:function(t,n){return e(function(e,t){return function(n){var r=new RegExp(e,"i"),a=t.filter((function(e){return e.title.match(r)}));a.length>0?n({type:f,result:a}):n({type:b})}}(t,n))}}}))((function(e){var t=function(t,n){t.preventDefault(),e.onInitSearch(),e.onGetSearchResults(n,e.listData)},n=Object(a.useState)(!1),c=Object(C.a)(n,2),i=c[0],s=c[1],o=function(){s(!1)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(A,{search:function(e,n){return t(e,n)},open:function(){s((function(e){return!e}))}}),Object(r.jsx)(M,{search:function(e,n){return t(e,n)},close:function(){return o()},show:i}),Object(r.jsx)(_,{close:function(){return o()},show:i}),Object(r.jsx)("main",{children:e.children})]})})),X=n(17),q=n(18),K=n(21),Q=n(20),Y=function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(X.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={like:!1},e.likeChange=function(){e.setState((function(e){return{like:!e.like}}),(function(){e.state.like?e.props.addLike(e.props.id):e.props.removeLike(e.props.id)}))},e}return Object(q.a)(n,[{key:"componentDidMount",value:function(){var e=this;(JSON.parse(localStorage.getItem("favoriteVideo"))||[]).find((function(t){return t.id===e.props.id}))&&this.setState({like:!0})}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"videoContainer",children:[Object(r.jsx)(s.b,{to:"/video/".concat(this.props.id),children:Object(r.jsx)("figure",{children:Object(r.jsx)("img",{src:this.props.img,alt:""})})}),Object(r.jsxs)("div",{className:"timeAndLike",children:[Object(r.jsx)("span",{children:this.props.duration}),Object(r.jsx)("span",{onClick:this.likeChange,children:this.state.like?D():I()})]}),Object(r.jsx)(s.b,{to:"/video/".concat(this.props.id),children:Object(r.jsxs)("div",{className:"videoDetail",children:[Object(r.jsx)("h4",{children:this.props.title}),Object(r.jsx)("span",{children:this.props.des})]})})]})}}]),n}(a.Component),Z=function(e){for(var t=[],n=1;n<=e.totalPages;n++)t.push(Object(r.jsx)("li",{className:"pageItem",onClick:e.currentPageSwitch,children:n},n));return Object(r.jsx)("section",{className:"pagination",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{className:"pageItem",onClick:e.prevPageSwitch,children:"<"}),t,Object(r.jsx)("li",{className:"pageItem",onClick:e.nextPageSwitch,children:">"})]})})},$=(n(57),function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(X.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentPage:1},e.nextPageSwitchHandler=function(){e.state.currentPage<e.props.totalPages&&e.setState((function(e){return{currentPage:e.currentPage+1}}))},e.prevPageSwitchHandler=function(){e.state.currentPage>1&&e.setState((function(e){return{currentPage:e.currentPage-1}}))},e.currentPageSwitchHandler=function(t){var n=t.target.innerText;e.setState({currentPage:+n})},e.addLikeHandler=function(t){var n=JSON.parse(localStorage.getItem("favoriteVideo"))||[],r=e.props.listData.find((function(e){return e.id===t}));n.push(r),localStorage.setItem("favoriteVideo",JSON.stringify(n))},e.removeLikeHandler=function(e){var t=JSON.parse(localStorage.getItem("favoriteVideo"))||[];if(0!==t.length){var n=t.filter((function(t){return t.id!==e}));localStorage.setItem("favoriteVideo",JSON.stringify(n))}},e}return Object(q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.onGetPopularList("AIzaSyBtRMWhDXpv2eGfEjJ2kFtcMhA3VfIe0s8");case 2:return e.next=4,this.props.getPopularListPage2("AIzaSyBtRMWhDXpv2eGfEjJ2kFtcMhA3VfIe0s8",this.props.nextPageToken);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=12*(this.state.currentPage-1),n=t+12,a=null;this.props.searchResults.length>0?a=this.props.searchResults.slice(t,n).map((function(t){return Object(r.jsx)(Y,{img:t.url,duration:t.duration,title:t.title,des:t.description,id:t.id,addLike:function(t){return e.addLikeHandler(t)},removeLike:function(t){return e.removeLikeHandler(t)}},t.title)})):a=this.props.listData.slice(t,n).map((function(t){return Object(r.jsx)(Y,{img:t.url,duration:t.duration,title:t.title,des:t.description,id:t.id,addLike:function(t){return e.addLikeHandler(t)},removeLike:function(t){return e.removeLikeHandler(t)}},t.title)}));var c=null;if(this.props.searchResults.length>0){var i=Math.ceil(this.props.searchResults.length/12);c=Object(r.jsx)(Z,{totalPages:i,currentPage:this.state.currentPage,nextPageSwitch:this.nextPageSwitchHandler,prevPageSwitch:this.prevPageSwitchHandler,currentPageSwitch:function(t){return e.currentPageSwitchHandler(t)}})}else{var s=Math.ceil(this.props.totalResults/12);c=Object(r.jsx)(Z,{totalPages:s,currentPage:this.state.currentPage,nextPageSwitch:this.nextPageSwitchHandler,prevPageSwitch:this.prevPageSwitchHandler,currentPageSwitch:function(t){return e.currentPageSwitchHandler(t)}})}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("section",{className:"wrap",children:[this.props.resultExist?null:alert("oops ... Can not find results that match your condition!!"),a]}),c]})}}]),n}(a.Component)),ee=Object(o.b)((function(e){return{nextPageToken:e.nextPageToken,totalResults:e.totalResults,listData:e.listData,searchResults:e.searchResults,resultExist:e.resultExist}}),(function(e){return{onGetPopularList:function(t){return e(function(e){return function(){var t=Object(G.a)(B.a.mark((function t(n){var r,a,c,i,s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e);case 3:r=t.sent,a=r.data,c=[],a.items.forEach((function(e){var t=e.contentDetails.duration,n=e.snippet,r=n.description,a=n.title,i=n.thumbnails.medium.url,s=e.id,o=x(t);c.push({duration:o,description:r,title:a,url:i,id:s})})),i=a.pageInfo.totalResults,s=a.nextPageToken,n({type:d,listData:c,totalResults:i,nextPageToken:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:j,error:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getPopularListPage2:function(t,n){e(function(e,t){return function(){var n=Object(G.a)(B.a.mark((function n(r){var a,c,i;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U(e,t);case 3:a=n.sent,c=a.data,i=[],c.items.forEach((function(e){var t=e.contentDetails.duration,n=e.snippet,r=n.description,a=n.title,c=n.thumbnails.medium.url,s=e.id,o=x(t);i.push({duration:o,description:r,title:a,url:c,id:s})})),r({type:h,listData2:i}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:j,error:n.t0});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))($),te=function(e){return Object(r.jsxs)("div",{className:"videoContainer",children:[Object(r.jsx)(s.b,{to:"/video/".concat(e.id),children:Object(r.jsx)("figure",{children:Object(r.jsx)("img",{src:e.img,alt:""})})}),Object(r.jsxs)("div",{className:"timeAndLike",children:[Object(r.jsx)("span",{children:e.duration}),Object(r.jsx)("span",{onClick:function(){e.removeLike(e.id)},children:D()})]}),Object(r.jsx)(s.b,{to:"/video/".concat(e.id),children:Object(r.jsxs)("div",{className:"videoDetail",children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)("span",{children:e.des})]})})]})},ne=function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(X.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentPage:1,totalPages:1,likeList:[]},e.nextPageSwitchHandler=function(){e.state.currentPage<e.state.totalPages&&e.setState((function(e){return{currentPage:e.currentPage+1}}))},e.prevPageSwitchHandler=function(){e.state.currentPage>1&&e.setState((function(e){return{currentPage:e.currentPage-1}}))},e.currentPageSwitchHandler=function(t){var n=t.target.innerText;e.setState({currentPage:+n})},e.removeLikeHandler=function(t){var n=(JSON.parse(localStorage.getItem("favoriteVideo"))||[]).filter((function(e){return e.id!==t}));localStorage.setItem("favoriteVideo",JSON.stringify(n)),e.setState({likeList:n})},e}return Object(q.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("favoriteVideo"))||[],t=e.length,n=Math.ceil(t/12);this.setState({likeList:e,totalPages:n})}},{key:"render",value:function(){var e=this,t=12*(this.state.currentPage-1),n=t+12,a=this.state.likeList.slice(t,n).map((function(t){return Object(r.jsx)(te,{img:t.url,duration:t.duration,title:t.title,des:t.description,id:t.id,removeLike:function(t){return e.removeLikeHandler(t)}},t.title)}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("section",{className:"wrap",children:a}),Object(r.jsx)(Z,{totalPages:this.state.totalPages,currentPage:this.state.currentPage,nextPageSwitch:this.nextPageSwitchHandler,prevPageSwitch:this.prevPageSwitchHandler,currentPageSwitch:function(t){return e.currentPageSwitchHandler(t)}})]})}}]),n}(a.Component),re=n(71),ae=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(re.a)(t.current,{sources:[{src:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8",type:"application/x-mpegURL"}],fluid:!0,aspectRatio:"16:9",autoplay:!1,controls:!0,muted:!1});return function(){e&&e.dispose()}}),[]),Object(r.jsxs)("div",{className:"videoContainer",children:[Object(r.jsx)("div",{"data-vjs-player":!0,className:"videoPlayer",children:Object(r.jsx)("video",{className:"video-js",ref:t})}),Object(r.jsxs)("div",{className:"videoDetail",children:[Object(r.jsx)("span",{className:"duration",children:e.duration}),Object(r.jsx)("h4",{children:e.title}),Object(r.jsx)("span",{className:"description",children:e.des})]})]})},ce=(n(126),function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(X.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentVideo:{}},e.goBackHandler=function(){e.props.history.goBack()},e}return Object(q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.id,n=this.props.listData.find((function(e){return e.id===t})),this.setState({currentVideo:n});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=null;return Object.keys(this.state.currentVideo).length>0&&(e=Object(r.jsx)(ae,{duration:this.state.currentVideo.duration,des:this.state.currentVideo.description,title:this.state.currentVideo.title})),Object(r.jsxs)("div",{className:"videoPlayWrap",children:[0===this.props.listData.length?Object(r.jsx)(N.a,{to:"/"}):null,Object(r.jsx)("span",{className:"goBack",onClick:this.goBackHandler,children:R()}),e]})}}]),n}(a.Component)),ie=Object(o.b)((function(e){return{listData:e.listData}}))(ce),se=function(){var e=Object(r.jsxs)(N.d,{children:[Object(r.jsx)(N.b,{path:"/like",component:ne}),Object(r.jsx)(N.b,{path:"/video/:id",component:ie}),Object(r.jsx)(N.b,{path:"/",component:ee,exact:!0}),Object(r.jsx)(N.a,{to:"/"})]});return Object(r.jsx)("div",{children:Object(r.jsx)(W,{children:e})})},oe=(n(127),l.c),le=Object(l.d)(L,oe(Object(l.a)(u.a))),ue=Object(r.jsx)(o.a,{store:le,children:Object(r.jsx)(s.a,{children:Object(r.jsx)(se,{})})});i.a.render(ue,document.getElementById("root"))},40:function(e,t,n){},57:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.80276d28.chunk.js.map